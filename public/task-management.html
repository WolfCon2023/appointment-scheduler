<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Management System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
        }
        .task-form {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        .task-form input, .task-form select, .task-form textarea, .task-form button {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .task-form textarea {
            width: 100%;
            height: 50px;
            resize: none;
        }
        .task-form button {
            background-color: #007bff;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        .task-form button:hover {
            background-color: #0056b3;
        }
        .task-list {
            list-style: none;
            padding: 0;
        }
        .task-item {
            display: flex;
            flex-direction: column;
            background: #f9f9f9;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .task-buttons {
            margin-top: 10px;
            display: flex;
            gap: 10px;
        }
        .task-buttons button {
            padding: 5px 10px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .edit-btn {
            background-color: #ffc107;
            color: #fff;
        }
        .delete-btn {
            background-color: #dc3545;
            color: #fff;
        }
        .edit-btn:hover {
            background-color: #e0a800;
        }
        .delete-btn:hover {
            background-color: #c82333;
        }
        .filter-form {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .filter-form select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Task Management System</h1>

    <form class="task-form">
        <input type="text" id="taskName" placeholder="Task Name" required>
        <textarea id="taskDescription" placeholder="Task Description"></textarea>
        <select id="taskPriority">
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
        </select>
        <select id="taskStatus">
            <option value="Pending">Pending</option>
            <option value="In Progress">In Progress</option>
            <option value="Completed">Completed</option>
        </select>
        <input type="text" id="taskCategory" placeholder="Category (e.g., HR, IT)">
        <input type="date" id="taskDeadline" required>
        <input type="text" id="taskAssignee" placeholder="Assign To" required>
        <input type="number" id="taskProgress" placeholder="Progress %" min="0" max="100">
        <button type="button" id="addTaskButton">Add Task</button>
    </form>

    <div class="filter-form">
        <select id="filterPriority">
            <option value="">Filter by Priority</option>
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
        </select>
        <select id="filterStatus">
            <option value="">Filter by Status</option>
            <option value="Pending">Pending</option>
            <option value="In Progress">In Progress</option>
            <option value="Completed">Completed</option>
        </select>
    </div>

    <ul class="task-list" id="taskList"></ul>
</div>

<script>
    const API_BASE_URL = "https://your-api-endpoint.com/api/tasks";

    document.getElementById('addTaskButton').addEventListener('click', async function () {
        const taskData = {
            task_name: document.getElementById('taskName').value.trim(),
            task_description: document.getElementById('taskDescription').value.trim(),
            priority: document.getElementById('taskPriority').value,
            status: document.getElementById('taskStatus').value,
            category: document.getElementById('taskCategory').value.trim(),
            deadline: document.getElementById('taskDeadline').value,
            assignee: document.getElementById('taskAssignee').value.trim(),
            progress: document.getElementById('taskProgress').value.trim() || "0"
        };

        if (!taskData.task_name || !taskData.deadline || !taskData.assignee) {
            alert("Please fill in required fields: Task Name, Deadline, Assignee.");
            return;
        }

        try {
            const response = await fetch(API_BASE_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(taskData)
            });

            if (response.ok) {
                alert("Task added successfully!");
                loadTasks();
            } else {
                alert("Failed to add task.");
            }
        } catch (error) {
            console.error("Error:", error);
            alert("Error adding task.");
        }
    });

    async function loadTasks() {
        try {
            const response = await fetch(API_BASE_URL);
            const tasks = await response.json();
            const taskList = document.getElementById('taskList');
            taskList.innerHTML = "";

            tasks.forEach(task => {
                const taskItem = document.createElement('li');
                taskItem.classList.add('task-item');
                taskItem.innerHTML = `
                    <span>${task.task_name} (${task.category || "General"})</span>
                    <p>${task.task_description}</p>
                    <p>Priority: <strong>${task.priority}</strong> | Status: <strong>${task.status}</strong> | Progress: <strong>${task.progress}%</strong></p>
                    <p>Assigned to: ${task.assignee} | Due: ${task.deadline}</p>
                    <div class="task-buttons">
                        <button class="edit-btn">Edit</button>
                        <button class="delete-btn">Delete</button>
                    </div>
                `;
                taskList.appendChild(taskItem);
            });
        } catch (error) {
            console.error("Error fetching tasks:", error);
        }
    }

    document.addEventListener("DOMContentLoaded", loadTasks);
</script>

</body>
</html>
